define contactgroup{
	contactgroup_name       admins
	alias                   Nagios Administrators
}

define contact{
	name                            base-contact     ; The name of this contact template
	service_notification_period     24x7      ; service notifications can be sent anytime
	host_notification_period        24x7      ; host notifications can be sent anytime
	service_notification_options    w,u,c,r,f,s   ; send notifications for all service states, flapping events, and scheduled downtime events
	host_notification_options       d,u,r,f,s   ; send notifications for all host states, flapping events, and scheduled downtime events
	service_notification_commands   notify-service-by-email, service_notify_by_phone
	host_notification_commands      notify-host-by-email, host_notify_by_phone
	register                        0           ; DONT REGISTER THIS DEFINITION - ITS NOT A REAL CONTACT, JUST A TEMPLATE!
	contactgroups                   admins
	}

{% for user in users|default([]) %}
define contact{
        contact_name                    {{user.username}}       ; Short name of user
        use                             base-contact         ; Inherit default values from generic-contact template (defined above)
        {% if user.name is defined %}alias                           {{user.name}}           ; Full name of user{% endif %} 
        {% if user.nagios.email is defined %}email                           {{user.nagios.email}}   ; Email{% endif %} 
        {% if user.nagios.pager is defined %}pager                           {{user.nagios.pager}}   ; Pager{% endif %} 
        }
{% endfor %}

